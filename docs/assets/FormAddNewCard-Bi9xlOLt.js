import{g as A,r as I,c as $,j as s,T as S,a as B,B as P}from"./index-dzdBnVOd.js";var k=I();const K=A(k),U="wrapper_XGiv-",Z="error_O3SeZ",F={wrapper:U,error:Z},R=n=>{const e=$.c(19),{label:r,value:d,onChange:m,type:f,name:u,placeholder:o,error:t,disabled:v}=n,i=f===void 0?"text":f;let a;e[0]!==r?(a=s.jsx(S,{weight:"semibold",children:r}),e[0]=r,e[1]=a):a=e[1];let x;e[2]!==r||e[3]!==a?(x=s.jsx("label",{htmlFor:r,children:a}),e[2]=r,e[3]=a,e[4]=x):x=e[4];let p;e[5]!==v||e[6]!==r||e[7]!==u||e[8]!==m||e[9]!==o||e[10]!==i||e[11]!==d?(p=s.jsx("input",{id:r,type:i,value:d,onChange:m,placeholder:o,disabled:v,name:u}),e[5]=v,e[6]=r,e[7]=u,e[8]=m,e[9]=o,e[10]=i,e[11]=d,e[12]=p):p=e[12];let l;e[13]!==t?(l=t&&s.jsx(S,{className:F.error,size:"small",children:t}),e[13]=t,e[14]=l):l=e[14];let h;return e[15]!==x||e[16]!==p||e[17]!==l?(h=s.jsxs("div",{className:F.wrapper,children:[x,p,l]}),e[15]=x,e[16]=p,e[17]=l,e[18]=h):h=e[18],h},q="overlay_-8giN",z="content_gMBO6",J="header_Eo0Tg",X="close-button_dkUC9",Y="body_RU8tN",E={overlay:q,content:z,header:J,closeButton:X,body:Y},H=n=>{const e=$.c(16),{children:r,isOpen:d,onClose:m,title:f}=n;if(!d)return null;let u;if(e[0]!==r||e[1]!==m||e[2]!==f){let o;e[4]!==f?(o=s.jsx("h2",{children:f}),e[4]=f,e[5]=o):o=e[5];let t;e[6]!==m?(t=s.jsx("button",{className:E.closeButton,onClick:m,children:"Ã—"}),e[6]=m,e[7]=t):t=e[7];let v;e[8]!==o||e[9]!==t?(v=s.jsxs("header",{className:E.header,children:[o,t]}),e[8]=o,e[9]=t,e[10]=v):v=e[10];let i;e[11]!==r?(i=s.jsx("div",{className:E.body,children:r}),e[11]=r,e[12]=i):i=e[12];let a;e[13]!==v||e[14]!==i?(a=s.jsx("div",{className:E.overlay,children:s.jsxs("div",{className:E.content,children:[v,i]})}),e[13]=v,e[14]=i,e[15]=a):a=e[15],u=K.createPortal(a,document.getElementById("modal-root")),e[0]=r,e[1]=m,e[2]=f,e[3]=u}else u=e[3];return u};function M(n=""){return n.replace(/\D+/g,"")}function O(n){if(!n)return n;const e=M(n);return[e.slice(0,4),e.slice(4,8),e.slice(8,12),e.slice(12,16)].join(" ").trim()}function Q(n){return M(n).slice(0,3)}function T(n){const e=M(n);return e.length>=3?`${e.slice(0,2)}/${e.slice(2,4)}`:e}const G=n=>{let e="";for(let r=0;r<n;r++)e+=Math.floor(Math.random()*10);return e},W=()=>`0${Math.floor(Math.random()*8)+1}/${Math.floor(Math.random()*10)+24}`,ee=()=>{const n=["Flying","Soar","Soaring","Power","Falling","Fall","Jump","Cliff","Mountain","Rend","Red","Blue","Green","Yellow","Gold","Demon","Demonic","Panda","Cat","Kitty","Kitten","Zero","Memory","Trooper","Router","Bandit","Fear","Light","Glow","Tread","Deep","Deeper","Deepest"];return`${n[Math.floor(Math.random()*n.length)]} ${n[Math.floor(Math.random()*n.length)]}`},te=n=>{const e={number:"",name:"",expiry:"",cvv:""};let r=!0;M(n.number).length!==16&&(e.number="Card number is invalid",r=!1);const d=n.name.trim().length;return(d<3||d>50)&&(e.name="Enter name between 3 and 50 characters",r=!1),/^(0[1-9]|1[0-2])\/?([0-9]{2})$/.test(n.expiry)||(e.expiry="Expiry date is invalid",r=!1),M(n.cvv).length!==3&&(e.cvv="CVV is invalid",r=!1),[r,e]},re="button-submit_OBh--",ne={buttonSubmit:re},le=n=>{const e=$.c(38),{isOpen:r,close:d,loading:m,submitCard:f}=n,u=m===void 0?!1:m;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={number:O(G(16)),name:ee(),expiry:T(W()),cvv:G(3)},e[0]=o):o=e[0];const[t,v]=B.useState(o);let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i={number:"",name:"",expiry:"",cvv:""},e[1]=i):i=e[1];const[a,x]=B.useState(i);let p;e[2]!==t||e[3]!==a?(p=D=>{const c=D.target;c.name==="number"?c.value=O(c.value):c.name==="expiry"?c.value=T(c.value):c.name==="cvv"&&(c.value=Q(c.value)),x({...a,[c.name]:""}),v({...t,[c.name]:c.value})},e[2]=t,e[3]=a,e[4]=p):p=e[4];const l=p;let h;e[5]!==t||e[6]!==f?(h=D=>{D.preventDefault();const[c,L]=te(t);if(!c){x(L);return}f(t)},e[5]=t,e[6]=f,e[7]=h):h=e[7];const _=h;let b;e[8]!==t.name||e[9]!==a.name||e[10]!==l?(b=s.jsx(R,{label:"Name on card",name:"name",onChange:l,value:t.name,error:a.name}),e[8]=t.name,e[9]=a.name,e[10]=l,e[11]=b):b=e[11];let y;e[12]!==t.number||e[13]!==a.number||e[14]!==l?(y=s.jsx(R,{label:"Card number",name:"number",onChange:l,value:t.number,error:a.number}),e[12]=t.number,e[13]=a.number,e[14]=l,e[15]=y):y=e[15];let g;e[16]!==t.expiry||e[17]!==a.expiry||e[18]!==l?(g=s.jsx(R,{label:"Expiry",name:"expiry",onChange:l,value:t.expiry,error:a.expiry}),e[16]=t.expiry,e[17]=a.expiry,e[18]=l,e[19]=g):g=e[19];let C;e[20]!==t.cvv||e[21]!==a.cvv||e[22]!==l?(C=s.jsx(R,{label:"CVV",name:"cvv",onChange:l,value:t.cvv,error:a.cvv}),e[20]=t.cvv,e[21]=a.cvv,e[22]=l,e[23]=C):C=e[23];const w=u?"Loading...":"Add Card";let j;e[24]!==u||e[25]!==w?(j=s.jsx(P,{className:ne.buttonSubmit,text:w,disabled:u,type:"submit"}),e[24]=u,e[25]=w,e[26]=j):j=e[26];let N;e[27]!==_||e[28]!==j||e[29]!==b||e[30]!==y||e[31]!==g||e[32]!==C?(N=s.jsxs("form",{onSubmit:_,children:[b,y,g,C,j]}),e[27]=_,e[28]=j,e[29]=b,e[30]=y,e[31]=g,e[32]=C,e[33]=N):N=e[33];let V;return e[34]!==d||e[35]!==r||e[36]!==N?(V=s.jsx(H,{title:"Add new Card",isOpen:r,onClose:d,children:N}),e[34]=d,e[35]=r,e[36]=N,e[37]=V):V=e[37],V};export{le as default};
